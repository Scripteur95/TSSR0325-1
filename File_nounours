#!/bin/bash

#Script écrit par Babak

# Couleurs terminal (facultatif si utilisé sans GUI)
rouge='\e[31m'
vert='\e[32m'
bleu='\e[34m'
jaune='\e[33m'
reset='\e[0m'

# Fonction pour installer les logiciels (fictifs ici)
installer() {
    clear
    echo -e "${bleu}🔧 Installation de : $1${reset}"
    sleep 1
    echo -e "${vert}✔️  $1 installé avec succès !${reset}"
    sleep 1.5
}

# Sous-menu Docker stylé
sous_menu_docker() {
    CHOIX=$(whiptail --title "🚀 Déploiement Docker Centralisé" ->
    "1" "📊  Portainer     - Interface web Docker" \
    "2" "🖥️   GLPI         - Gestion de parc informatique" \
    "3" "📈  Zabbix        - Supervision réseau avancée" \
    "4" "📡  Nagios        - Monitoring et alertes système" \
    "5" "📞  XiVO          - Téléphonie IP (VOIP)" \
    "6" "🛡️  Sécurité      - Fail2ban, iptables, rkhunter, logwatc>
    "7" "🧱  SambaAD       - Active Directory Linux" \
    "8" "↩️  Retour" 3>&1 1>&2 2>&3)

    case $CHOIX in
        1) installer "Portainer (Docker)" ;;
        2) installer "GLPI (Gestion de parc)" ;;
        3) installer "Zabbix (Supervision)" ;;
        4) installer "Nagios (Supervision)" ;;
        5) installer "XiVO (VOIP)" ;;
        6) installer "Outils Sécurité : fail2ban, iptables, rkhun>
        7) installer "SambaAD (Active Directory)" ;;
        8) return ;;
        *) echo -e "${rouge}❌ Option invalide${reset}" ;;
    esac
}

# Menu principal
while true; do
    CHOIX_PRINCIPAL=$(whiptail --title "🧭 Menu Principal Adminis>
    "1" "🛠️  Installation de logiciels via Docker" \
    "2" "🚪 Quitter" 3>&1 1>&2 2>&3)

    case $CHOIX_PRINCIPAL in
        1) sous_menu_docker ;;
        2) clear; echo -e "${jaune}👋 Merci d'avoir utilisé ce me>
        *) echo -e "${rouge}❌ Option invalide${reset}" ;;
    esac
done
